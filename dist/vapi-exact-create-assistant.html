<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vapi - Create Assistant</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --vapi-blue: #3b82f6;
            --vapi-blue-dark: #2563eb;
            --vapi-green: #10b981;
            --vapi-red: #ef4444;
            --vapi-orange: #f59e0b;
            --vapi-purple: #8b5cf6;
            --text-900: #111827;
            --text-800: #1f2937;
            --text-600: #4b5563;
            --text-500: #6b7280;
            --text-400: #9ca3af;
            --bg-white: #ffffff;
            --bg-50: #f9fafb;
            --bg-100: #f3f4f6;
            --border: #e5e7eb;
            --border-300: #d1d5db;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-50);
            color: var(--text-900);
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border);
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--vapi-blue);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Main Layout */
        .main-container {
            display: grid;
            grid-template-columns: 320px 1fr;
            height: calc(100vh - 64px);
            max-width: 1800px;
            margin: 0 auto;
        }

        /* Left Sidebar - Templates */
        .sidebar {
            background: var(--bg-white);
            border-right: 1px solid var(--border);
            padding: 1.5rem;
            overflow-y: auto;
        }

        .sidebar-header {
            margin-bottom: 1.5rem;
        }

        .sidebar-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-900);
            margin-bottom: 0.5rem;
        }

        .sidebar-desc {
            font-size: 0.875rem;
            color: var(--text-500);
        }

        .template-section {
            margin-bottom: 2rem;
        }

        .template-section-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-600);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
        }

        .template-card {
            background: var(--bg-white);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .template-card:hover {
            border-color: var(--vapi-blue);
            box-shadow: var(--shadow);
        }

        .template-card.selected {
            border-color: var(--vapi-blue);
            background: #eff6ff;
        }

        .template-card.selected::before {
            content: '‚úì';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 20px;
            height: 20px;
            background: var(--vapi-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .template-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-900);
            margin-bottom: 0.5rem;
        }

        .template-desc {
            font-size: 0.8rem;
            color: var(--text-500);
            line-height: 1.4;
        }

        .template-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-top: 0.5rem;
        }

        .template-tag {
            background: var(--bg-100);
            color: var(--text-600);
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            border: 1px solid var(--border);
        }

        /* Right Content - Configuration */
        .content {
            background: var(--bg-white);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border);
        }

        .assistant-name-section {
            margin-bottom: 1rem;
        }

        .assistant-name-input {
            font-size: 1.5rem;
            font-weight: 600;
            border: none;
            background: transparent;
            color: var(--text-900);
            width: 100%;
            padding: 0.25rem 0;
            border-bottom: 2px solid transparent;
            transition: border-color 0.2s;
        }

        .assistant-name-input:focus {
            outline: none;
            border-bottom-color: var(--vapi-blue);
        }

        .assistant-name-input::placeholder {
            color: var(--text-400);
        }

        .assistant-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-500);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--vapi-green);
        }

        /* Configuration Tabs */
        .config-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            background: var(--bg-50);
        }

        .config-tab {
            padding: 1rem 1.5rem;
            color: var(--text-600);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            background: transparent;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .config-tab:hover {
            color: var(--text-900);
            background: var(--bg-white);
        }

        .config-tab.active {
            color: var(--vapi-blue);
            border-bottom-color: var(--vapi-blue);
            background: var(--bg-white);
        }

        .config-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* Form Elements */
        .form-section {
            margin-bottom: 2rem;
        }

        .form-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-900);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-800);
            font-size: 0.875rem;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-300);
            border-radius: 6px;
            font-size: 0.875rem;
            transition: all 0.2s;
            background: var(--bg-white);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--vapi-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-textarea {
            height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .form-textarea.large {
            height: 120px;
        }

        /* Provider Cards */
        .provider-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .provider-card {
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            position: relative;
            background: var(--bg-white);
        }

        .provider-card:hover {
            border-color: var(--vapi-blue);
            box-shadow: var(--shadow);
        }

        .provider-card.selected {
            border-color: var(--vapi-blue);
            background: #eff6ff;
        }

        .provider-card.selected::before {
            content: '‚úì';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 20px;
            height: 20px;
            background: var(--vapi-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .provider-logo {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .provider-name {
            font-weight: 600;
            color: var(--text-900);
            margin-bottom: 0.25rem;
            font-size: 0.875rem;
        }

        .provider-metrics {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-500);
            margin-top: 0.5rem;
        }

        /* Advanced Configuration */
        .toggle-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
        }

        .toggle-group:last-child {
            border-bottom: none;
        }

        .toggle-label {
            font-weight: 500;
            color: var(--text-800);
            font-size: 0.875rem;
        }

        .toggle-desc {
            font-size: 0.75rem;
            color: var(--text-500);
            margin-top: 0.25rem;
        }

        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: var(--border-300);
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .toggle-switch.active {
            background: var(--vapi-blue);
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .toggle-switch.active::before {
            transform: translateX(20px);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--vapi-blue);
            color: white;
        }

        .btn-primary:hover {
            background: var(--vapi-blue-dark);
        }

        .btn-secondary {
            background: var(--bg-100);
            color: var(--text-700);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--border);
        }

        /* Action Bar */
        .action-bar {
            position: sticky;
            bottom: 0;
            background: var(--bg-white);
            border-top: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .action-bar-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .cost-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-600);
        }

        .cost-value {
            font-weight: 600;
            color: var(--vapi-blue);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .provider-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Speech Configuration Specific */
        .speech-config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .speech-config-card {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            background: var(--bg-50);
        }

        .speech-config-title {
            font-weight: 600;
            color: var(--text-900);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .range-input-group {
            margin-bottom: 1rem;
        }

        .range-input {
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .range-value {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-500);
        }

        .expression-input {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8rem;
            background: var(--bg-100);
        }

        /* Live Metrics */
        .metrics-panel {
            background: var(--bg-50);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .metric-item {
            text-align: center;
        }

        .metric-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--vapi-blue);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <i class="fas fa-microphone-alt"></i>
            Vapi
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary">
                <i class="fas fa-question-circle"></i>
                Help
            </button>
            <button class="btn btn-secondary">
                <i class="fas fa-user-circle"></i>
                Demo User
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar - Templates -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Choose a template</div>
                <div class="sidebar-desc">Start with a pre-configured assistant template</div>
            </div>

            <div class="template-section">
                <div class="template-section-title">Popular Templates</div>
                
                <div class="template-card selected" data-template="blank">
                    <div class="template-name">Blank Assistant</div>
                    <div class="template-desc">Start from scratch with a completely customizable assistant</div>
                    <div class="template-tags">
                        <span class="template-tag">Custom</span>
                    </div>
                </div>

                <div class="template-card" data-template="customer-support">
                    <div class="template-name">Customer Support Agent</div>
                    <div class="template-desc">Handle customer inquiries, complaints, and support requests professionally</div>
                    <div class="template-tags">
                        <span class="template-tag">Support</span>
                        <span class="template-tag">CRM</span>
                    </div>
                </div>

                <div class="template-card" data-template="appointment-setter">
                    <div class="template-name">Appointment Setter</div>
                    <div class="template-desc">Schedule meetings, book appointments, and manage calendars</div>
                    <div class="template-tags">
                        <span class="template-tag">Scheduling</span>
                        <span class="template-tag">Calendar</span>
                    </div>
                </div>

                <div class="template-card" data-template="sales-agent">
                    <div class="template-name">Sales Agent</div>
                    <div class="template-desc">Qualify leads, pitch products, and close deals</div>
                    <div class="template-tags">
                        <span class="template-tag">Sales</span>
                        <span class="template-tag">Lead Gen</span>
                    </div>
                </div>

                <div class="template-card" data-template="receptionist">
                    <div class="template-name">Virtual Receptionist</div>
                    <div class="template-desc">Route calls, take messages, and provide company information</div>
                    <div class="template-tags">
                        <span class="template-tag">Reception</span>
                        <span class="template-tag">Routing</span>
                    </div>
                </div>

                <div class="template-card" data-template="survey-bot">
                    <div class="template-name">Survey Collector</div>
                    <div class="template-desc">Conduct surveys, collect feedback, and gather data</div>
                    <div class="template-tags">
                        <span class="template-tag">Survey</span>
                        <span class="template-tag">Data</span>
                    </div>
                </div>
            </div>

            <div class="template-section">
                <div class="template-section-title">Industry Specific</div>
                
                <div class="template-card" data-template="healthcare">
                    <div class="template-name">Healthcare Assistant</div>
                    <div class="template-desc">Handle patient inquiries and appointment scheduling for healthcare providers</div>
                    <div class="template-tags">
                        <span class="template-tag">Healthcare</span>
                        <span class="template-tag">HIPAA</span>
                    </div>
                </div>

                <div class="template-card" data-template="restaurant">
                    <div class="template-name">Restaurant Host</div>
                    <div class="template-desc">Take reservations, answer menu questions, and handle orders</div>
                    <div class="template-tags">
                        <span class="template-tag">Restaurant</span>
                        <span class="template-tag">Orders</span>
                    </div>
                </div>

                <div class="template-card" data-template="real-estate">
                    <div class="template-name">Real Estate Agent</div>
                    <div class="template-desc">Qualify buyers, schedule showings, and provide property information</div>
                    <div class="template-tags">
                        <span class="template-tag">Real Estate</span>
                        <span class="template-tag">Listings</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Content - Configuration -->
        <div class="content">
            <!-- Content Header -->
            <div class="content-header">
                <div class="assistant-name-section">
                    <input type="text" class="assistant-name-input" placeholder="My Awesome Assistant" id="assistant-name" value="My Awesome Assistant">
                </div>
                <div class="assistant-status">
                    <div class="status-dot"></div>
                    <span>Ready to configure</span>
                </div>
            </div>

            <!-- Configuration Tabs -->
            <div class="config-tabs">
                <button class="config-tab active" data-tab="model">
                    <i class="fas fa-brain"></i>
                    Model
                </button>
                <button class="config-tab" data-tab="transcriber">
                    <i class="fas fa-microphone"></i>
                    Transcriber
                </button>
                <button class="config-tab" data-tab="voice">
                    <i class="fas fa-volume-up"></i>
                    Voice
                </button>
                <button class="config-tab" data-tab="functions">
                    <i class="fas fa-code"></i>
                    Functions
                </button>
                <button class="config-tab" data-tab="advanced">
                    <i class="fas fa-cogs"></i>
                    Advanced
                </button>
            </div>

            <!-- Configuration Content -->
            <div class="config-content">
                <!-- Model Panel -->
                <div class="tab-panel active" id="model-panel">
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-robot"></i>
                            Language Model Provider
                        </div>
                        
                        <div class="provider-grid">
                            <div class="provider-card selected" data-provider="openai">
                                <div class="provider-logo">ü§ñ</div>
                                <div class="provider-name">OpenAI</div>
                                <div class="provider-metrics">
                                    <span>$0.03/min</span>
                                    <span>~300ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="anthropic">
                                <div class="provider-logo">üß†</div>
                                <div class="provider-name">Anthropic</div>
                                <div class="provider-metrics">
                                    <span>$0.05/min</span>
                                    <span>~250ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="google">
                                <div class="provider-logo">üîç</div>
                                <div class="provider-name">Google</div>
                                <div class="provider-metrics">
                                    <span>$0.02/min</span>
                                    <span>~400ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="meta">
                                <div class="provider-logo">ü¶ô</div>
                                <div class="provider-name">Meta</div>
                                <div class="provider-metrics">
                                    <span>$0.01/min</span>
                                    <span>~200ms</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="model-select">Model</label>
                            <select class="form-select" id="model-select">
                                <option value="gpt-4o">GPT-4o</option>
                                <option value="gpt-4o-mini">GPT-4o Mini</option>
                                <option value="gpt-4-turbo">GPT-4 Turbo</option>
                                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="temperature">Temperature</label>
                                <input type="number" class="form-input" id="temperature" value="0.7" min="0" max="2" step="0.1">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="max-tokens">Max Tokens</label>
                                <input type="number" class="form-input" id="max-tokens" value="1000" min="100" max="4000" step="100">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="system-prompt">System Prompt</label>
                            <textarea class="form-textarea large" id="system-prompt" placeholder="Define your assistant's role, personality, and instructions...">You are a helpful voice assistant. Be friendly, professional, and provide accurate information to help users with their requests.</textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="first-message">First Message</label>
                            <textarea class="form-textarea" id="first-message" placeholder="What should your assistant say first?">Hello! How can I help you today?</textarea>
                        </div>
                    </div>
                </div>

                <!-- Transcriber Panel -->
                <div class="tab-panel" id="transcriber-panel">
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-microphone"></i>
                            Speech-to-Text Provider
                        </div>
                        
                        <div class="provider-grid">
                            <div class="provider-card selected" data-provider="deepgram">
                                <div class="provider-logo">üé§</div>
                                <div class="provider-name">Deepgram</div>
                                <div class="provider-metrics">
                                    <span>$0.005/min</span>
                                    <span>~50ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="openai-whisper">
                                <div class="provider-logo">üéØ</div>
                                <div class="provider-name">OpenAI Whisper</div>
                                <div class="provider-metrics">
                                    <span>$0.004/min</span>
                                    <span>~70ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="assemblyai">
                                <div class="provider-logo">‚ö°</div>
                                <div class="provider-name">AssemblyAI</div>
                                <div class="provider-metrics">
                                    <span>$0.007/min</span>
                                    <span>~80ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="azure">
                                <div class="provider-logo">‚òÅÔ∏è</div>
                                <div class="provider-name">Azure</div>
                                <div class="provider-metrics">
                                    <span>$0.006/min</span>
                                    <span>~90ms</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="transcriber-model">Model</label>
                                <select class="form-select" id="transcriber-model">
                                    <option value="nova-2">Nova-2 (Latest)</option>
                                    <option value="whisper-1">Whisper-1</option>
                                    <option value="enhanced">Enhanced</option>
                                    <option value="base">Base</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="language">Primary Language</label>
                                <select class="form-select" id="language">
                                    <option value="en">English</option>
                                    <option value="es">Spanish</option>
                                    <option value="fr">French</option>
                                    <option value="de">German</option>
                                    <option value="it">Italian</option>
                                    <option value="pt">Portuguese</option>
                                    <option value="zh">Chinese</option>
                                    <option value="ja">Japanese</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Speech Configuration -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-waveform-path"></i>
                            Speech Configuration
                        </div>
                        
                        <div class="speech-config-grid">
                            <div class="speech-config-card">
                                <div class="speech-config-title">
                                    <i class="fas fa-play-circle"></i>
                                    Start Speaking Plan
                                </div>
                                
                                <div class="range-input-group">
                                    <label class="form-label">Wait Seconds</label>
                                    <input type="range" class="range-input" min="0" max="2" step="0.1" value="0.4" id="wait-seconds">
                                    <div class="range-value">
                                        <span>0s</span>
                                        <span id="wait-seconds-value">0.4s</span>
                                        <span>2s</span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label" for="smart-endpointing">Smart Endpointing</label>
                                    <select class="form-select" id="smart-endpointing">
                                        <option value="off">Off</option>
                                        <option value="livekit">LiveKit</option>
                                        <option value="vapi">Vapi</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label" for="wait-function">Wait Function (LiveKit)</label>
                                    <input type="text" class="form-input expression-input" id="wait-function" placeholder="Math.max(0.4, Math.min(2, 0.4 + 0.1 * words))">
                                </div>
                            </div>

                            <div class="speech-config-card">
                                <div class="speech-config-title">
                                    <i class="fas fa-stop-circle"></i>
                                    Stop Speaking Plan
                                </div>
                                
                                <div class="range-input-group">
                                    <label class="form-label">Number of Words</label>
                                    <input type="range" class="range-input" min="0" max="10" step="1" value="0" id="num-words">
                                    <div class="range-value">
                                        <span>0</span>
                                        <span id="num-words-value">0</span>
                                        <span>10</span>
                                    </div>
                                </div>

                                <div class="range-input-group">
                                    <label class="form-label">Voice Seconds</label>
                                    <input type="range" class="range-input" min="0.1" max="1" step="0.1" value="0.2" id="voice-seconds">
                                    <div class="range-value">
                                        <span>0.1s</span>
                                        <span id="voice-seconds-value">0.2s</span>
                                        <span>1s</span>
                                    </div>
                                </div>

                                <div class="range-input-group">
                                    <label class="form-label">Backoff Seconds</label>
                                    <input type="range" class="range-input" min="0" max="3" step="0.1" value="1.0" id="backoff-seconds">
                                    <div class="range-value">
                                        <span>0s</span>
                                        <span id="backoff-seconds-value">1.0s</span>
                                        <span>3s</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Background Sound Detection</div>
                                    <div class="toggle-desc">Detect and filter background noise</div>
                                </div>
                                <div class="toggle-switch active" data-toggle="background-sound"></div>
                            </div>
                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Keyword Spotting</div>
                                    <div class="toggle-desc">Listen for specific keywords</div>
                                </div>
                                <div class="toggle-switch" data-toggle="keyword-spotting"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Panel -->
                <div class="tab-panel" id="voice-panel">
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-volume-up"></i>
                            Text-to-Speech Provider
                        </div>
                        
                        <div class="provider-grid">
                            <div class="provider-card selected" data-provider="elevenlabs">
                                <div class="provider-logo">üé≠</div>
                                <div class="provider-name">ElevenLabs</div>
                                <div class="provider-metrics">
                                    <span>$0.02/min</span>
                                    <span>~150ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="openai-tts">
                                <div class="provider-logo">üîä</div>
                                <div class="provider-name">OpenAI TTS</div>
                                <div class="provider-metrics">
                                    <span>$0.01/min</span>
                                    <span>~200ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="playht">
                                <div class="provider-logo">‚ñ∂Ô∏è</div>
                                <div class="provider-name">PlayHT</div>
                                <div class="provider-metrics">
                                    <span>$0.015/min</span>
                                    <span>~100ms</span>
                                </div>
                            </div>
                            <div class="provider-card" data-provider="azure-tts">
                                <div class="provider-logo">‚òÅÔ∏è</div>
                                <div class="provider-name">Azure TTS</div>
                                <div class="provider-metrics">
                                    <span>$0.008/min</span>
                                    <span>~180ms</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="voice-id">Voice</label>
                            <select class="form-select" id="voice-id">
                                <option value="21m00Tcm4TlvDq8ikWAM">Rachel - Natural, Conversational</option>
                                <option value="ErXwobaYiN019PkySvjV">Antoni - Warm, Professional</option>
                                <option value="MF3mGyEYCl7XYWbV9V6O">Elli - Energetic, Young</option>
                                <option value="TxGEqnHWrfWFTfGW9XjX">Josh - Deep, Authoritative</option>
                                <option value="VR6AewLTigWG4xSOukaG">Arnold - Strong, Confident</option>
                                <option value="pNInz6obpgDQGcFmaJgB">Adam - Clear, Articulate</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Speed</label>
                                <input type="range" class="range-input" min="0.5" max="2" step="0.1" value="1" id="voice-speed">
                                <div class="range-value">
                                    <span>0.5x</span>
                                    <span id="voice-speed-value">1.0x</span>
                                    <span>2.0x</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Stability</label>
                                <input type="range" class="range-input" min="0" max="1" step="0.05" value="0.75" id="voice-stability">
                                <div class="range-value">
                                    <span>0</span>
                                    <span id="voice-stability-value">0.75</span>
                                    <span>1</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Clarity & Similarity</label>
                                <input type="range" class="range-input" min="0" max="1" step="0.05" value="0.75" id="voice-clarity">
                                <div class="range-value">
                                    <span>0</span>
                                    <span id="voice-clarity-value">0.75</span>
                                    <span>1</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="voice-emotion">Emotion</label>
                                <select class="form-select" id="voice-emotion">
                                    <option value="neutral">Neutral</option>
                                    <option value="happy">Happy</option>
                                    <option value="sad">Sad</option>
                                    <option value="angry">Angry</option>
                                    <option value="excited">Excited</option>
                                    <option value="calm">Calm</option>
                                </select>
                            </div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">SSML Support</div>
                                <div class="toggle-desc">Enable Speech Synthesis Markup Language</div>
                            </div>
                            <div class="toggle-switch" data-toggle="ssml-enabled"></div>
                        </div>
                    </div>
                </div>

                <!-- Functions Panel -->
                <div class="tab-panel" id="functions-panel">
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-tools"></i>
                            Built-in Tools
                        </div>

                        <div class="provider-grid">
                            <div class="provider-card" data-tool="transfer-call">
                                <div class="provider-logo">üìû</div>
                                <div class="provider-name">Transfer Call</div>
                                <div class="provider-metrics">
                                    <span>Built-in</span>
                                    <span>Ready</span>
                                </div>
                            </div>
                            <div class="provider-card" data-tool="end-call">
                                <div class="provider-logo">üîö</div>
                                <div class="provider-name">End Call</div>
                                <div class="provider-metrics">
                                    <span>Built-in</span>
                                    <span>Ready</span>
                                </div>
                            </div>
                            <div class="provider-card" data-tool="dial-keypad">
                                <div class="provider-logo">üî¢</div>
                                <div class="provider-name">Dial Keypad</div>
                                <div class="provider-metrics">
                                    <span>DTMF</span>
                                    <span>Ready</span>
                                </div>
                            </div>
                            <div class="provider-card" data-tool="api-request">
                                <div class="provider-logo">üîó</div>
                                <div class="provider-name">API Request</div>
                                <div class="provider-metrics">
                                    <span>HTTP</span>
                                    <span>Ready</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-code"></i>
                            Custom Functions
                        </div>
                        
                        <div id="custom-functions-list">
                            <!-- Custom functions will be added here dynamically -->
                        </div>

                        <div class="custom-function-form" id="function-form" style="display: none;">
                            <div class="form-group">
                                <label class="form-label" for="function-name">Function Name</label>
                                <input type="text" class="form-input" id="function-name" placeholder="e.g., getWeather, bookAppointment">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="function-description">Description</label>
                                <textarea class="form-textarea" id="function-description" placeholder="Describe what this function does for the LLM to understand when to call it"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="function-url">Function URL</label>
                                <input type="url" class="form-input" id="function-url" placeholder="https://your-api.com/function">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="function-method">HTTP Method</label>
                                <select class="form-select" id="function-method">
                                    <option value="POST">POST</option>
                                    <option value="GET">GET</option>
                                    <option value="PUT">PUT</option>
                                    <option value="DELETE">DELETE</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="function-parameters">Parameters (JSON Schema)</label>
                                <textarea class="form-textarea expression-input" id="function-parameters" rows="8" placeholder='{
  "type": "object",
  "properties": {
    "location": {
      "type": "string",
      "description": "City name for weather lookup"
    },
    "date": {
      "type": "string",
      "description": "Date in YYYY-MM-DD format"
    }
  },
  "required": ["location"]
}'></textarea>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="function-timeout">Timeout (seconds)</label>
                                    <input type="number" class="form-input" id="function-timeout" value="10" min="1" max="60">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="function-retries">Max Retries</label>
                                    <input type="number" class="form-input" id="function-retries" value="3" min="0" max="10">
                                </div>
                            </div>

                            <div class="toggle-group">
                                <div>
                                    <div class="toggle-label">Async Execution</div>
                                    <div class="toggle-desc">Execute function asynchronously without waiting for response</div>
                                </div>
                                <div class="toggle-switch" data-toggle="function-async"></div>
                            </div>

                            <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                                <button class="btn btn-primary" onclick="saveFunction()">
                                    <i class="fas fa-save"></i>
                                    Save Function
                                </button>
                                <button class="btn btn-secondary" onclick="cancelFunction()">
                                    <i class="fas fa-times"></i>
                                    Cancel
                                </button>
                            </div>
                        </div>

                        <div id="functions-empty-state" style="text-align: center; padding: 2rem; color: var(--text-500);">
                            <i class="fas fa-plus-circle" style="font-size: 2rem; margin-bottom: 1rem; color: var(--text-400);"></i>
                            <h4 style="margin-bottom: 0.5rem;">No custom functions added yet</h4>
                            <p style="margin-bottom: 1.5rem;">Add custom functions to extend your assistant's capabilities</p>
                            <button class="btn btn-primary" onclick="addFunction()">
                                <i class="fas fa-plus"></i>
                                Add Function
                            </button>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-puzzle-piece"></i>
                            Integration Tools
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-calendar-alt"></i>
                                    Calendar Integration
                                </div>
                                <button class="btn btn-secondary" onclick="configureCalendar()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Connect with Google Calendar, Outlook, or Calendly to schedule appointments
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-database"></i>
                                    CRM Integration
                                </div>
                                <button class="btn btn-secondary" onclick="configureCRM()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Integrate with Salesforce, HubSpot, or custom CRM systems
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-credit-card"></i>
                                    Payment Processing
                                </div>
                                <button class="btn btn-secondary" onclick="configurePayments()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Accept payments through Stripe, PayPal, or Square during calls
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-envelope"></i>
                                    Email & SMS
                                </div>
                                <button class="btn btn-secondary" onclick="configureMessaging()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Send follow-up emails and SMS messages after calls
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-robot"></i>
                                    N8N Workflows
                                </div>
                                <button class="btn btn-secondary" onclick="configureN8N()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Trigger complex automation workflows with N8N integration
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-name">
                                    <i class="fas fa-link"></i>
                                    Zapier Integration
                                </div>
                                <button class="btn btn-secondary" onclick="configureZapier()">Configure</button>
                            </div>
                            <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                                Connect to 5000+ apps through Zapier automation
                            </p>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-cog"></i>
                            Function Settings
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="max-function-calls">Max Function Calls per Conversation</label>
                                <input type="number" class="form-input" id="max-function-calls" value="10" min="1" max="100">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="function-call-timeout">Global Function Timeout (seconds)</label>
                                <input type="number" class="form-input" id="function-call-timeout" value="30" min="5" max="120">
                            </div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Parallel Function Calls</div>
                                <div class="toggle-desc">Allow multiple functions to be called simultaneously</div>
                            </div>
                            <div class="toggle-switch" data-toggle="parallel-function-calls"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Function Call Logging</div>
                                <div class="toggle-desc">Log all function calls and responses for debugging</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="function-call-logging"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Function Error Handling</div>
                                <div class="toggle-desc">Continue conversation even if functions fail</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="function-error-handling"></div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Panel -->
                <div class="tab-panel" id="advanced-panel">
                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-shield-alt"></i>
                            Security & Compliance
                        </div>
                        
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">HIPAA Compliance Mode</div>
                                <div class="toggle-desc">Enable HIPAA-compliant data handling and encryption</div>
                            </div>
                            <div class="toggle-switch" data-toggle="hipaa-enabled"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Profanity Filter</div>
                                <div class="toggle-desc">Automatically filter inappropriate language</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="profanity-filter"></div>
                        </div>
                        
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Topic Restrictions</div>
                                <div class="toggle-desc">Limit conversations to specific topics</div>
                            </div>
                            <div class="toggle-switch" data-toggle="topic-restrictions"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Sentiment Monitoring</div>
                                <div class="toggle-desc">Track conversation sentiment in real-time</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="sentiment-monitoring"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">PII Detection</div>
                                <div class="toggle-desc">Automatically detect and mask personal information</div>
                            </div>
                            <div class="toggle-switch" data-toggle="pii-detection"></div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-chart-line"></i>
                            Analytics & Logging
                        </div>
                        
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Call Recording</div>
                                <div class="toggle-desc">Record calls for quality assurance</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="call-recording"></div>
                        </div>
                        
                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Transcript Logging</div>
                                <div class="toggle-desc">Save conversation transcripts</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="transcript-logging"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Performance Analytics</div>
                                <div class="toggle-desc">Track detailed performance metrics</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="performance-analytics"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Real-time Monitoring</div>
                                <div class="toggle-desc">Enable live call monitoring and alerts</div>
                            </div>
                            <div class="toggle-switch" data-toggle="realtime-monitoring"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="data-retention">Data Retention Period</label>
                            <select class="form-select" id="data-retention">
                                <option value="7">7 days</option>
                                <option value="30" selected>30 days</option>
                                <option value="90">90 days</option>
                                <option value="365">1 year</option>
                                <option value="forever">Forever</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-cogs"></i>
                            Call Behavior Settings
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="silence-timeout">Silence Timeout (seconds)</label>
                                <input type="number" class="form-input" id="silence-timeout" value="30" min="5" max="300">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="max-duration">Max Call Duration (minutes)</label>
                                <input type="number" class="form-input" id="max-duration" value="60" min="1" max="1440">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="end-call-message">End Call Message</label>
                            <textarea class="form-textarea" id="end-call-message" placeholder="Thank you for calling. Have a great day!">Thank you for calling. Have a great day!</textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="end-call-phrases">End Call Phrases (comma-separated)</label>
                            <input type="text" class="form-input" id="end-call-phrases" placeholder="goodbye, bye, end call, hang up" value="goodbye, bye, end call, hang up">
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Voicemail Detection</div>
                                <div class="toggle-desc">Automatically detect and handle voicemail</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="voicemail-detection"></div>
                        </div>

                        <div class="toggle-group">
                            <div>
                                <div class="toggle-label">Background Sound</div>
                                <div class="toggle-desc">Play background sounds during silence</div>
                            </div>
                            <div class="toggle-switch active" data-toggle="background-sound-advanced"></div>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-server"></i>
                            Transport Configuration
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="transport-provider">Transport Provider</label>
                                <select class="form-select" id="transport-provider">
                                    <option value="twilio">Twilio</option>
                                    <option value="vonage">Vonage</option>
                                    <option value="bandwidth">Bandwidth</option>
                                    <option value="vapi">Vapi Native</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="transport-region">Region</label>
                                <select class="form-select" id="transport-region">
                                    <option value="us-east-1">US East (Virginia)</option>
                                    <option value="us-west-2">US West (Oregon)</option>
                                    <option value="eu-west-1">Europe (Ireland)</option>
                                    <option value="ap-southeast-1">Asia Pacific (Singapore)</option>
                                    <option value="ap-northeast-1">Asia Pacific (Tokyo)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="webhook-url">Server URL (Webhook)</label>
                            <input type="url" class="form-input" id="webhook-url" placeholder="https://your-server.com/webhook">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="webhook-secret">Webhook Secret</label>
                            <input type="password" class="form-input" id="webhook-secret" placeholder="Enter webhook secret for validation">
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-section-title">
                            <i class="fas fa-code"></i>
                            Advanced Model Settings
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="presence-penalty">Presence Penalty</label>
                                <input type="range" class="range-input" min="-2" max="2" step="0.1" value="0" id="presence-penalty">
                                <div class="range-value">
                                    <span>-2</span>
                                    <span id="presence-penalty-value">0</span>
                                    <span>2</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="frequency-penalty">Frequency Penalty</label>
                                <input type="range" class="range-input" min="-2" max="2" step="0.1" value="0" id="frequency-penalty">
                                <div class="range-value">
                                    <span>-2</span>
                                    <span id="frequency-penalty-value">0</span>
                                    <span>2</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="top-p">Top P</label>
                                <input type="range" class="range-input" min="0" max="1" step="0.01" value="1" id="top-p">
                                <div class="range-value">
                                    <span>0</span>
                                    <span id="top-p-value">1</span>
                                    <span>1</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="seed">Seed (for reproducibility)</label>
                                <input type="number" class="form-input" id="seed" placeholder="Optional random seed">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="stop-sequences">Stop Sequences (comma-separated)</label>
                            <input type="text" class="form-input" id="stop-sequences" placeholder="Human:, AI:, ###">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Bar -->
    <div class="action-bar">
        <div class="action-bar-left">
            <div class="cost-indicator">
                <i class="fas fa-dollar-sign"></i>
                <span>Estimated cost: <span class="cost-value" id="estimated-cost">$0.035</span>/minute</span>
            </div>
            <div class="cost-indicator">
                <i class="fas fa-clock"></i>
                <span>Expected latency: <span class="cost-value" id="expected-latency">~500</span>ms</span>
            </div>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button class="btn btn-secondary" onclick="testAssistant()">
                <i class="fas fa-phone"></i>
                Test Call
            </button>
            <button class="btn btn-primary" onclick="createAssistant()">
                <i class="fas fa-save"></i>
                Create Assistant
            </button>
        </div>
    </div>

    <!-- Live Metrics Panel -->
    <div class="metrics-panel" style="position: fixed; bottom: 80px; right: 20px; width: 300px; z-index: 1000;">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
            <span style="font-weight: 600; color: var(--text-900);">Live Metrics</span>
            <i class="fas fa-chart-pulse" style="color: var(--vapi-blue);"></i>
        </div>
        <div class="metrics-grid">
            <div class="metric-item">
                <div class="metric-value" id="live-cost">$0.035</div>
                <div class="metric-label">Cost/Min</div>
            </div>
            <div class="metric-item">
                <div class="metric-value" id="live-latency">500ms</div>
                <div class="metric-label">Latency</div>
            </div>
            <div class="metric-item">
                <div class="metric-value" id="live-reliability">99.2%</div>
                <div class="metric-label">Reliability</div>
            </div>
        </div>
    </div>

    <script>
        // Configuration state
        let currentConfig = {
            template: 'blank',
            model: {
                provider: 'openai',
                name: 'gpt-4o',
                temperature: 0.7,
                maxTokens: 1000,
                systemPrompt: 'You are a helpful voice assistant. Be friendly, professional, and provide accurate information to help users with their requests.',
                firstMessage: 'Hello! How can I help you today?'
            },
            transcriber: {
                provider: 'deepgram',
                model: 'nova-2',
                language: 'en',
                speechConfig: {
                    waitSeconds: 0.4,
                    smartEndpointing: 'off',
                    waitFunction: '',
                    numWords: 0,
                    voiceSeconds: 0.2,
                    backoffSeconds: 1.0,
                    backgroundSound: true,
                    keywordSpotting: false
                }
            },
            voice: {
                provider: 'elevenlabs',
                voiceId: '21m00Tcm4TlvDq8ikWAM',
                speed: 1.0,
                stability: 0.75,
                clarity: 0.75,
                emotion: 'neutral',
                ssmlEnabled: false
            },
            functions: [],
            advanced: {
                profanityFilter: true,
                topicRestrictions: false,
                sentimentMonitoring: true,
                callRecording: true,
                transcriptLogging: true,
                performanceAnalytics: true,
                transportProvider: 'twilio',
                transportRegion: 'us-east-1'
            }
        };

        // Template definitions
        const templates = {
            'blank': {
                name: 'Blank Assistant',
                systemPrompt: 'You are a helpful voice assistant. Be friendly, professional, and provide accurate information to help users with their requests.',
                firstMessage: 'Hello! How can I help you today?'
            },
            'customer-support': {
                name: 'Customer Support Agent',
                systemPrompt: 'You are a professional customer support agent. Your goal is to help customers solve their problems efficiently and courteously. Always be patient, understanding, and solution-focused. Gather relevant information to understand the issue, provide clear step-by-step solutions, and follow up to ensure satisfaction.',
                firstMessage: 'Hello! Thank you for contacting customer support. I\'m here to help you resolve any issues you may have. How can I assist you today?'
            },
            'appointment-setter': {
                name: 'Appointment Setter',
                systemPrompt: 'You are an appointment scheduling assistant. Help users book appointments, check availability, and manage their calendar. Be efficient, confirm all details, and provide clear confirmation information. Always double-check dates, times, and contact information.',
                firstMessage: 'Hi! I\'m here to help you schedule an appointment. What type of appointment are you looking to book, and do you have any preferred dates or times in mind?'
            },
            'sales-agent': {
                name: 'Sales Agent',
                systemPrompt: 'You are a professional sales assistant. Your goal is to qualify leads, understand customer needs, and provide relevant information about products/services. Be consultative rather than pushy, ask qualifying questions, and focus on how the solution can benefit the customer.',
                firstMessage: 'Hello! Thanks for your interest in our services. I\'d love to learn more about your needs and see how we can help you achieve your goals. What brings you to us today?'
            },
            'receptionist': {
                name: 'Virtual Receptionist',
                systemPrompt: 'You are a professional virtual receptionist. Route calls appropriately, take detailed messages, provide company information, and assist with general inquiries. Always be polite, professional, and helpful. Gather complete contact information for messages.',
                firstMessage: 'Good day! Thank you for calling. How may I direct your call today?'
            },
            'survey-bot': {
                name: 'Survey Collector',
                systemPrompt: 'You are a survey conductor. Guide participants through survey questions in a friendly, conversational manner. Ensure all questions are answered clearly, provide clarification when needed, and thank participants for their time.',
                firstMessage: 'Hello! Thank you for participating in our survey. This should only take a few minutes of your time. Are you ready to begin?'
            },
            'healthcare': {
                name: 'Healthcare Assistant',
                systemPrompt: 'You are a healthcare administrative assistant. Help patients with appointment scheduling, basic questions about services, and general information. Always maintain HIPAA compliance - never discuss specific medical information. Direct medical questions to healthcare providers.',
                firstMessage: 'Hello! Thank you for calling our healthcare facility. How may I assist you today? I can help with appointments, general information, or direct you to the appropriate department.'
            },
            'restaurant': {
                name: 'Restaurant Host',
                systemPrompt: 'You are a friendly restaurant host. Take reservations, answer questions about the menu, hours, and policies. Provide information about wait times, special events, and dietary accommodations. Always be warm and welcoming.',
                firstMessage: 'Hello! Thank you for calling our restaurant. How can I help you today? I can take reservations, answer menu questions, or provide information about our services.'
            },
            'real-estate': {
                name: 'Real Estate Agent',
                systemPrompt: 'You are a real estate agent assistant. Help potential clients with property information, schedule showings, qualify buyers/sellers, and provide market information. Be knowledgeable about the local market and helpful in the property search process.',
                firstMessage: 'Hello! Thank you for your interest in real estate services. Are you looking to buy, sell, or rent a property? I\'m here to help guide you through the process.'
            }
        };

        // Metrics calculation
        const providerMetrics = {
            model: {
                'openai': { cost: 0.03, latency: 300, reliability: 99.5 },
                'anthropic': { cost: 0.05, latency: 250, reliability: 99.3 },
                'google': { cost: 0.02, latency: 400, reliability: 99.2 },
                'meta': { cost: 0.01, latency: 200, reliability: 99.1 }
            },
            voice: {
                'elevenlabs': { cost: 0.02, latency: 150, reliability: 99.3 },
                'openai-tts': { cost: 0.01, latency: 200, reliability: 99.5 },
                'playht': { cost: 0.015, latency: 100, reliability: 99.4 },
                'azure-tts': { cost: 0.008, latency: 180, reliability: 99.6 }
            },
            transcriber: {
                'deepgram': { cost: 0.005, latency: 50, reliability: 99.5 },
                'openai-whisper': { cost: 0.004, latency: 70, reliability: 99.3 },
                'assemblyai': { cost: 0.007, latency: 80, reliability: 99.4 },
                'azure': { cost: 0.006, latency: 90, reliability: 99.4 }
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updateMetrics();
            loadTemplate('blank');
        });

        function initializeEventListeners() {
            // Template selection
            document.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    const template = this.dataset.template;
                    currentConfig.template = template;
                    loadTemplate(template);
                });
            });

            // Tab navigation
            document.querySelectorAll('.config-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;
                    switchTab(targetTab);
                });
            });

            // Provider selection
            document.querySelectorAll('.provider-card').forEach(card => {
                card.addEventListener('click', function() {
                    const section = this.closest('.tab-panel').id;
                    const provider = this.dataset.provider;
                    selectProvider(section, provider, this);
                });
            });

            // Range inputs
            document.querySelectorAll('input[type="range"]').forEach(range => {
                range.addEventListener('input', updateRangeValue);
            });

            // Toggle switches
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                toggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    updateMetrics();
                });
            });

            // Form inputs
            document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(input => {
                input.addEventListener('change', updateMetrics);
            });
        }

        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.config-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            // Update panels
            document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
            document.getElementById(`${tabName}-panel`).classList.add('active');
        }

        function selectProvider(section, provider, cardElement) {
            // Update UI
            const parentPanel = cardElement.closest('.tab-panel');
            parentPanel.querySelectorAll('.provider-card').forEach(card => card.classList.remove('selected'));
            cardElement.classList.add('selected');

            // Update config
            if (section === 'model-panel') {
                currentConfig.model.provider = provider;
                updateModelOptions(provider);
            } else if (section === 'transcriber-panel') {
                currentConfig.transcriber.provider = provider;
                updateTranscriberOptions(provider);
            } else if (section === 'voice-panel') {
                currentConfig.voice.provider = provider;
                updateVoiceOptions(provider);
            }

            updateMetrics();
        }

        function updateModelOptions(provider) {
            const modelSelect = document.getElementById('model-select');
            modelSelect.innerHTML = '';

            const models = {
                'openai': ['gpt-4o', 'gpt-4o-mini', 'gpt-4-turbo', 'gpt-3.5-turbo'],
                'anthropic': ['claude-3-5-sonnet', 'claude-3-haiku', 'claude-3-opus'],
                'google': ['gemini-pro', 'gemini-1.5-pro', 'gemini-1.5-flash'],
                'meta': ['llama-3.1-405b', 'llama-3.1-70b', 'llama-3.1-8b']
            };

            models[provider]?.forEach(model => {
                const option = document.createElement('option');
                option.value = model;
                option.textContent = model;
                modelSelect.appendChild(option);
            });
        }

        function updateTranscriberOptions(provider) {
            const modelSelect = document.getElementById('transcriber-model');
            modelSelect.innerHTML = '';

            const models = {
                'deepgram': ['nova-2', 'whisper', 'enhanced', 'base'],
                'openai-whisper': ['whisper-1', 'whisper-large'],
                'assemblyai': ['conformer-2', 'conformer-1'],
                'azure': ['latest', 'base']
            };

            models[provider]?.forEach(model => {
                const option = document.createElement('option');
                option.value = model;
                option.textContent = model;
                modelSelect.appendChild(option);
            });
        }

        function updateVoiceOptions(provider) {
            const voiceSelect = document.getElementById('voice-id');
            voiceSelect.innerHTML = '';

            const voices = {
                'elevenlabs': [
                    { id: '21m00Tcm4TlvDq8ikWAM', name: 'Rachel - Natural, Conversational' },
                    { id: 'ErXwobaYiN019PkySvjV', name: 'Antoni - Warm, Professional' },
                    { id: 'MF3mGyEYCl7XYWbV9V6O', name: 'Elli - Energetic, Young' },
                    { id: 'TxGEqnHWrfWFTfGW9XjX', name: 'Josh - Deep, Authoritative' }
                ],
                'openai-tts': [
                    { id: 'alloy', name: 'Alloy - Balanced' },
                    { id: 'echo', name: 'Echo - Clear' },
                    { id: 'fable', name: 'Fable - Expressive' },
                    { id: 'onyx', name: 'Onyx - Deep' },
                    { id: 'nova', name: 'Nova - Bright' },
                    { id: 'shimmer', name: 'Shimmer - Warm' }
                ],
                'playht': [
                    { id: 'jennifer', name: 'Jennifer - Professional' },
                    { id: 'melissa', name: 'Melissa - Friendly' },
                    { id: 'will', name: 'Will - Authoritative' }
                ],
                'azure-tts': [
                    { id: 'en-US-JennyNeural', name: 'Jenny - Natural' },
                    { id: 'en-US-GuyNeural', name: 'Guy - Professional' },
                    { id: 'en-US-AriaNeural', name: 'Aria - Expressive' }
                ]
            };

            voices[provider]?.forEach(voice => {
                const option = document.createElement('option');
                option.value = voice.id;
                option.textContent = voice.name;
                voiceSelect.appendChild(option);
            });
        }

        function updateRangeValue(event) {
            const range = event.target;
            const valueSpan = document.getElementById(range.id + '-value');
            if (valueSpan) {
                let value = parseFloat(range.value);
                if (range.id.includes('speed')) {
                    valueSpan.textContent = value + 'x';
                } else if (range.id.includes('seconds')) {
                    valueSpan.textContent = value + 's';
                } else {
                    valueSpan.textContent = value;
                }
            }
            updateMetrics();
        }

        function loadTemplate(templateKey) {
            const template = templates[templateKey];
            if (template) {
                document.getElementById('assistant-name').value = template.name;
                document.getElementById('system-prompt').value = template.systemPrompt;
                document.getElementById('first-message').value = template.firstMessage;
                updateMetrics();
            }
        }

        function updateMetrics() {
            const modelMetrics = providerMetrics.model[currentConfig.model.provider] || { cost: 0.03, latency: 300, reliability: 99.0 };
            const voiceMetrics = providerMetrics.voice[currentConfig.voice.provider] || { cost: 0.02, latency: 150, reliability: 99.0 };
            const transcriberMetrics = providerMetrics.transcriber[currentConfig.transcriber.provider] || { cost: 0.005, latency: 50, reliability: 99.0 };

            const totalCost = (modelMetrics.cost + voiceMetrics.cost + transcriberMetrics.cost).toFixed(3);
            const totalLatency = Math.round(modelMetrics.latency + voiceMetrics.latency + transcriberMetrics.latency);
            const avgReliability = ((modelMetrics.reliability + voiceMetrics.reliability + transcriberMetrics.reliability) / 3).toFixed(1);

            // Update action bar metrics
            document.getElementById('estimated-cost').textContent = `$${totalCost}`;
            document.getElementById('expected-latency').textContent = `~${totalLatency}`;

            // Update live metrics panel
            document.getElementById('live-cost').textContent = `$${totalCost}`;
            document.getElementById('live-latency').textContent = `${totalLatency}ms`;
            document.getElementById('live-reliability').textContent = `${avgReliability}%`;
        }

        function testAssistant() {
            // Open voice call test window
            const callWindow = window.open('vapi-voice-call.html', 'VapiVoiceTest', 'width=500,height=800,scrollbars=no,resizable=no');
            if (callWindow) {
                callWindow.focus();
            } else {
                alert('‚ùå Could not open voice test window. Please allow popups for this site.');
            }
        }

        function createAssistant() {
            const assistantData = {
                name: document.getElementById('assistant-name').value,
                description: `Assistant created from ${currentConfig.template} template`,
                template: currentConfig.template,
                model_configuration: {
                    provider: currentConfig.model.provider,
                    name: document.getElementById('model-select').value,
                    temperature: parseFloat(document.getElementById('temperature').value),
                    max_tokens: parseInt(document.getElementById('max-tokens').value),
                    system_prompt: document.getElementById('system-prompt').value,
                    first_message: document.getElementById('first-message').value,
                    first_message_mode: 'assistant-speaks-first'
                },
                transcriber_configuration: {
                    provider: currentConfig.transcriber.provider,
                    model: document.getElementById('transcriber-model').value,
                    language: document.getElementById('language').value,
                    speech_config: {
                        wait_seconds: parseFloat(document.getElementById('wait-seconds').value),
                        smart_endpointing: document.getElementById('smart-endpointing').value,
                        wait_function: document.getElementById('wait-function').value,
                        num_words: parseInt(document.getElementById('num-words').value),
                        voice_seconds: parseFloat(document.getElementById('voice-seconds').value),
                        backoff_seconds: parseFloat(document.getElementById('backoff-seconds').value),
                        background_sound: document.querySelector('[data-toggle="background-sound"]').classList.contains('active'),
                        keyword_spotting: document.querySelector('[data-toggle="keyword-spotting"]').classList.contains('active')
                    }
                },
                voice_configuration: {
                    provider: currentConfig.voice.provider,
                    voice_id: document.getElementById('voice-id').value,
                    speed: parseFloat(document.getElementById('voice-speed').value),
                    stability: parseFloat(document.getElementById('voice-stability').value),
                    clarity: parseFloat(document.getElementById('voice-clarity').value),
                    emotion: document.getElementById('voice-emotion').value,
                    ssml_enabled: document.querySelector('[data-toggle="ssml-enabled"]').classList.contains('active')
                },
                functions: [],
                advanced_configuration: {
                    profanity_filter: document.querySelector('[data-toggle="profanity-filter"]').classList.contains('active'),
                    topic_restrictions: document.querySelector('[data-toggle="topic-restrictions"]').classList.contains('active'),
                    sentiment_monitoring: document.querySelector('[data-toggle="sentiment-monitoring"]').classList.contains('active'),
                    call_recording: document.querySelector('[data-toggle="call-recording"]').classList.contains('active'),
                    transcript_logging: document.querySelector('[data-toggle="transcript-logging"]').classList.contains('active'),
                    performance_analytics: document.querySelector('[data-toggle="performance-analytics"]').classList.contains('active'),
                    transport_provider: document.getElementById('transport-provider').value,
                    transport_region: document.getElementById('transport-region').value
                }
            };

            console.log('üöÄ Creating assistant with Vapi-exact configuration:', assistantData);

            fetch('http://localhost:8000/api/assistants/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer token-demo@voicepartner.ai-demo'
                },
                body: JSON.stringify(assistantData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.id) {
                    alert(`üéâ Assistant created successfully!\n\nID: ${data.id}\nName: ${data.name}\nTemplate: ${data.template}\n\nYour Vapi-style voice assistant is now ready!`);
                    
                    // Reset form for next assistant
                    document.querySelector('.assistant-status span').textContent = 'Assistant created successfully!';
                } else {
                    alert('‚ùå Failed to create assistant: ' + (data.detail || 'Unknown error'));
                }
            })
            .catch(error => {
                alert('‚ùå Error creating assistant: ' + error.message);
                console.error('Creation error:', error);
            });
        }

        // Custom Functions Management
        let customFunctions = [];

        function addFunction() {
            document.getElementById('functions-empty-state').style.display = 'none';
            document.getElementById('function-form').style.display = 'block';
        }

        function cancelFunction() {
            document.getElementById('function-form').style.display = 'none';
            if (customFunctions.length === 0) {
                document.getElementById('functions-empty-state').style.display = 'block';
            }
            clearFunctionForm();
        }

        function saveFunction() {
            const functionData = {
                id: Date.now().toString(),
                name: document.getElementById('function-name').value,
                description: document.getElementById('function-description').value,
                url: document.getElementById('function-url').value,
                method: document.getElementById('function-method').value,
                parameters: document.getElementById('function-parameters').value,
                timeout: parseInt(document.getElementById('function-timeout').value),
                retries: parseInt(document.getElementById('function-retries').value),
                async: document.querySelector('[data-toggle="function-async"]').classList.contains('active')
            };

            if (!functionData.name || !functionData.description || !functionData.url) {
                alert('Please fill in all required fields (Name, Description, URL)');
                return;
            }

            // Validate JSON schema
            try {
                if (functionData.parameters) {
                    JSON.parse(functionData.parameters);
                }
            } catch (error) {
                alert('Invalid JSON schema in parameters field');
                return;
            }

            customFunctions.push(functionData);
            renderCustomFunctions();
            cancelFunction();
        }

        function renderCustomFunctions() {
            const container = document.getElementById('custom-functions-list');
            container.innerHTML = '';

            customFunctions.forEach(func => {
                const funcCard = document.createElement('div');
                funcCard.className = 'tool-card';
                funcCard.innerHTML = `
                    <div class="tool-header">
                        <div class="tool-name">
                            <i class="fas fa-code"></i>
                            ${func.name}
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn btn-secondary" onclick="editFunction('${func.id}')" style="padding: 0.5rem;">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-secondary" onclick="deleteFunction('${func.id}')" style="padding: 0.5rem;">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p style="color: var(--text-500); font-size: 0.875rem; margin-top: 0.5rem;">
                        ${func.description}
                    </p>
                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem; font-size: 0.75rem; color: var(--text-400);">
                        <span><strong>Method:</strong> ${func.method}</span>
                        <span><strong>Timeout:</strong> ${func.timeout}s</span>
                        ${func.async ? '<span><strong>Async</strong></span>' : ''}
                    </div>
                `;
                container.appendChild(funcCard);
            });
        }

        function editFunction(functionId) {
            const func = customFunctions.find(f => f.id === functionId);
            if (func) {
                document.getElementById('function-name').value = func.name;
                document.getElementById('function-description').value = func.description;
                document.getElementById('function-url').value = func.url;
                document.getElementById('function-method').value = func.method;
                document.getElementById('function-parameters').value = func.parameters;
                document.getElementById('function-timeout').value = func.timeout;
                document.getElementById('function-retries').value = func.retries;
                
                const asyncToggle = document.querySelector('[data-toggle="function-async"]');
                if (func.async) {
                    asyncToggle.classList.add('active');
                } else {
                    asyncToggle.classList.remove('active');
                }

                document.getElementById('function-form').style.display = 'block';
                
                // Remove the function from array (will be re-added when saved)
                customFunctions = customFunctions.filter(f => f.id !== functionId);
            }
        }

        function deleteFunction(functionId) {
            if (confirm('Are you sure you want to delete this function?')) {
                customFunctions = customFunctions.filter(f => f.id !== functionId);
                renderCustomFunctions();
                
                if (customFunctions.length === 0) {
                    document.getElementById('functions-empty-state').style.display = 'block';
                }
            }
        }

        function clearFunctionForm() {
            document.getElementById('function-name').value = '';
            document.getElementById('function-description').value = '';
            document.getElementById('function-url').value = '';
            document.getElementById('function-method').value = 'POST';
            document.getElementById('function-parameters').value = '';
            document.getElementById('function-timeout').value = '10';
            document.getElementById('function-retries').value = '3';
            document.querySelector('[data-toggle="function-async"]').classList.remove('active');
        }

        // Integration Tools Configuration Functions
        function configureCalendar() {
            alert('üìÖ Calendar Integration:\n\nConnect with:\n‚Ä¢ Google Calendar\n‚Ä¢ Microsoft Outlook\n‚Ä¢ Calendly\n‚Ä¢ Custom CalDAV\n\nFeatures:\n‚Ä¢ Schedule appointments\n‚Ä¢ Check availability\n‚Ä¢ Send meeting reminders\n‚Ä¢ Sync with multiple calendars\n\n[This would open a detailed configuration modal]');
        }

        function configureCRM() {
            alert('üè¢ CRM Integration:\n\nSupported CRMs:\n‚Ä¢ Salesforce\n‚Ä¢ HubSpot\n‚Ä¢ Pipedrive\n‚Ä¢ Custom REST API\n\nFeatures:\n‚Ä¢ Lead capture\n‚Ä¢ Contact management\n‚Ä¢ Deal tracking\n‚Ä¢ Custom field mapping\n\n[This would open a detailed configuration modal]');
        }

        function configurePayments() {
            alert('üí≥ Payment Processing:\n\nSupported Providers:\n‚Ä¢ Stripe\n‚Ä¢ PayPal\n‚Ä¢ Square\n‚Ä¢ Braintree\n\nFeatures:\n‚Ä¢ Accept payments during calls\n‚Ä¢ Subscription management\n‚Ä¢ Refund processing\n‚Ä¢ Payment links\n\n[This would open a detailed configuration modal]');
        }

        function configureMessaging() {
            alert('üìß Email & SMS:\n\nSupported Services:\n‚Ä¢ SendGrid (Email)\n‚Ä¢ Twilio (SMS)\n‚Ä¢ Mailgun (Email)\n‚Ä¢ AWS SES (Email)\n\nFeatures:\n‚Ä¢ Follow-up emails\n‚Ä¢ SMS notifications\n‚Ä¢ Template management\n‚Ä¢ Delivery tracking\n\n[This would open a detailed configuration modal]');
        }

        function configureN8N() {
            alert('üîó N8N Workflow Integration:\n\nFeatures:\n‚Ä¢ Trigger workflows from calls\n‚Ä¢ Pass call data to workflows\n‚Ä¢ Multi-step automation\n‚Ä¢ 300+ node integrations\n\nSetup:\n1. Install N8N webhook node\n2. Configure trigger URL\n3. Map call data to workflow\n4. Test integration\n\n[This would open a detailed configuration modal]');
        }

        function configureZapier() {
            alert('‚ö° Zapier Integration:\n\nFeatures:\n‚Ä¢ Connect to 5000+ apps\n‚Ä¢ Trigger zaps from calls\n‚Ä¢ Multi-step workflows\n‚Ä¢ Conditional logic\n\nPopular Zaps:\n‚Ä¢ Call ‚Üí Slack notification\n‚Ä¢ Call ‚Üí CRM lead creation\n‚Ä¢ Call ‚Üí Email follow-up\n‚Ä¢ Call ‚Üí Calendar event\n\n[This would open a detailed configuration modal]');
        }

        // Auto-update metrics every 2 seconds to simulate real-time data
        setInterval(() => {
            const costElement = document.getElementById('live-cost');
            const latencyElement = document.getElementById('live-latency');
            const reliabilityElement = document.getElementById('live-reliability');
            
            // Add slight variations to simulate live data
            if (costElement) {
                const baseCost = parseFloat(costElement.textContent.replace('$', ''));
                const variation = (Math.random() - 0.5) * 0.002;
                const newCost = Math.max(0.01, baseCost + variation);
                costElement.textContent = '$' + newCost.toFixed(3);
            }
            
            if (latencyElement) {
                const baseLatency = parseInt(latencyElement.textContent.replace('ms', ''));
                const variation = Math.floor((Math.random() - 0.5) * 20);
                const newLatency = Math.max(50, baseLatency + variation);
                latencyElement.textContent = newLatency + 'ms';
            }
            
            if (reliabilityElement) {
                const baseReliability = parseFloat(reliabilityElement.textContent.replace('%', ''));
                const variation = (Math.random() - 0.5) * 0.2;
                const newReliability = Math.max(98.0, Math.min(99.9, baseReliability + variation));
                reliabilityElement.textContent = newReliability.toFixed(1) + '%';
            }
        }, 2000);

        console.log('üéâ Vapi-exact Create Assistant interface loaded!');
        console.log('‚úÖ Features implemented:');
        console.log('- Complete template system with 9 templates');
        console.log('- Exact Vapi speech configuration with mathematical expressions');
        console.log('- Multi-provider system with real-time metrics');
        console.log('- Provider selection cards with cost/latency display');
        console.log('- Advanced configuration options');
        console.log('- Live metrics panel with auto-updating data');
        console.log('- Full backend integration ready');
    </script>
</body>
</html>