<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoicePartnerAI - European Voice AI Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3b82f6;
            --primary-dark: #2563eb;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --purple-color: #8b5cf6;
            --text-900: #0f172a;
            --text-700: #334155;
            --text-500: #64748b;
            --text-300: #cbd5e1;
            --bg-50: #f8fafc;
            --bg-100: #f1f5f9;
            --bg-white: #ffffff;
            --border: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-50);
            color: var(--text-900);
            line-height: 1.5;
            overflow-x: hidden;
        }

        /* RESPONSIVE HEADER */
        .nav-header {
            background: var(--bg-white);
            border-bottom: 1px solid var(--border);
            padding: 0 1rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo i {
            font-size: 1.5rem;
        }

        .nav-tabs {
            display: flex;
            gap: 1rem;
        }

        .nav-tab {
            padding: 1rem 0.75rem;
            color: var(--text-500);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            transition: all 0.2s;
            position: relative;
            font-size: 0.9rem;
        }

        .nav-tab:hover, .nav-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .user-avatar:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        /* MOBILE MENU */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-700);
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 64px;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-white);
            z-index: 999;
            padding: 1rem;
            box-shadow: var(--shadow-lg);
        }

        .mobile-nav.active {
            display: flex;
            flex-direction: column;
        }

        .mobile-nav .nav-tab {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        /* LAYOUT CONTAINER */
        .platform-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 1rem;
            min-height: calc(100vh - 64px);
        }

        /* PAGE SECTIONS */
        .page-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-title {
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--text-900);
            margin-bottom: 0.5rem;
        }

        .page-subtitle {
            color: var(--text-500);
            font-size: 1rem;
        }

        /* ASSISTANT BUILDER LAYOUT */
        .assistant-builder {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 1.5rem;
            min-height: calc(100vh - 200px);
        }

        .builder-sidebar {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            height: fit-content;
            box-shadow: var(--shadow-sm);
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .builder-main {
            background: var(--bg-white);
            border-radius: 12px;
            border: 1px solid var(--border);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 200px);
        }

        /* TEMPLATES */
        .template-section h3 {
            margin-bottom: 1rem;
            color: var(--text-900);
            font-weight: 600;
            font-size: 1rem;
        }

        .template-card {
            background: var(--bg-50);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 1px 3px 0 rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }

        .template-card.selected {
            border-color: var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .template-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-900);
            font-size: 0.875rem;
        }

        .template-desc {
            font-size: 0.75rem;
            color: var(--text-500);
            line-height: 1.4;
        }

        /* CONFIG TABS */
        .config-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            background: var(--bg-50);
            overflow-x: auto;
        }

        .config-tab {
            padding: 1rem 1.25rem;
            color: var(--text-500);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            min-width: 120px;
            justify-content: center;
            white-space: nowrap;
        }

        .config-tab:hover {
            color: var(--text-700);
            background: rgba(59, 130, 246, 0.05);
        }

        .config-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: var(--bg-white);
        }

        .config-content {
            padding: 1.5rem;
            height: calc(100vh - 380px);
            overflow-y: auto;
            flex: 1;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* FORM COMPONENTS */
        .form-section {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--bg-100);
        }

        .form-section:last-child {
            border-bottom: none;
        }

        .form-section h4 {
            margin-bottom: 1rem;
            color: var(--text-900);
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-700);
            font-size: 0.875rem;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.875rem;
            transition: all 0.2s;
            background: var(--bg-white);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
            line-height: 1.5;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-triple {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        /* PROVIDER CARDS */
        .provider-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .provider-card {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--bg-white);
            text-align: center;
        }

        .provider-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 1px 3px 0 rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }

        .provider-card.selected {
            border-color: var(--primary-color);
            background: rgba(59, 130, 246, 0.05);
        }

        .provider-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-900);
            font-size: 0.875rem;
        }

        .provider-desc {
            font-size: 0.75rem;
            color: var(--text-500);
        }

        /* METRICS BAR */
        .metrics-bar {
            background: var(--bg-50);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            text-align: center;
        }

        .metric-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .metric-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-900);
            margin-bottom: 0.25rem;
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* BUTTONS */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            font-size: 0.875rem;
            line-height: 1;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--text-700);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-50);
            border-color: var(--primary-color);
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
        }

        /* ACTION BAR */
        .action-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-white);
            border-top: 1px solid var(--border);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .action-bar-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .action-bar-right {
            display: flex;
            gap: 1rem;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-500);
            font-size: 0.875rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success-color);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* PHONE INTERFACE */
        .phone-interface {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 320px;
            height: 500px;
            background: var(--bg-white);
            border-radius: 20px;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border);
            z-index: 1001;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .phone-interface.active {
            display: flex;
        }

        .phone-header {
            background: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .phone-body {
            flex: 1;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .call-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--bg-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--text-500);
            margin-bottom: 1rem;
        }

        .call-status {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-900);
        }

        .call-duration {
            color: var(--text-500);
            margin-bottom: 2rem;
        }

        .call-controls {
            display: flex;
            gap: 1rem;
            margin-top: auto;
            padding: 1rem;
            justify-content: center;
        }

        .call-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .call-btn.end {
            background: var(--danger-color);
            color: white;
        }

        .call-btn.mute {
            background: var(--bg-100);
            color: var(--text-500);
        }

        .call-btn:hover {
            transform: scale(1.1);
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 1024px) {
            .assistant-builder {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .builder-sidebar {
                max-height: none;
                height: auto;
            }

            .form-row, .form-triple {
                grid-template-columns: 1fr;
            }

            .platform-container {
                padding: 0.5rem;
            }

            .nav-tabs {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .config-content {
                height: auto;
                max-height: 60vh;
            }

            .builder-main {
                max-height: none;
            }
        }

        @media (max-width: 768px) {
            .logo {
                font-size: 1rem;
            }

            .logo i {
                font-size: 1.25rem;
            }

            .page-title {
                font-size: 1.5rem;
            }

            .action-bar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem 0.5rem;
            }

            .action-bar-right {
                width: 100%;
                justify-content: center;
            }

            .provider-grid {
                grid-template-columns: 1fr;
            }

            .metrics-bar {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
                padding: 0.75rem;
            }

            .phone-interface {
                width: 90vw;
                max-width: 320px;
                height: 70vh;
                max-height: 500px;
            }
        }

        @media (max-width: 480px) {
            .platform-container {
                padding: 0.25rem;
            }

            .config-tab {
                min-width: 100px;
                padding: 0.75rem 0.5rem;
                font-size: 0.75rem;
            }

            .metrics-bar {
                grid-template-columns: 1fr;
            }
        }

        /* LOADING STATES */
        .loading {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* OVERLAY */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }

        .overlay.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- OVERLAY -->
    <div class="overlay" id="overlay"></div>

    <!-- MAIN NAVIGATION -->
    <div class="nav-header">
        <div class="logo">
            <i class="fas fa-microphone-alt"></i>
            VoicePartnerAI
        </div>
        
        <div class="nav-tabs">
            <div class="nav-tab active" data-tab="assistants">Assistants</div>
            <div class="nav-tab" data-tab="phone-numbers">Telefonnummern</div>
            <div class="nav-tab" data-tab="tools">Tools</div>
            <div class="nav-tab" data-tab="analytics">Analytics</div>
            <div class="nav-tab" data-tab="documentation">Docs</div>
        </div>

        <div class="user-menu">
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <div class="user-avatar">VP</div>
        </div>
    </div>

    <!-- MOBILE NAVIGATION -->
    <div class="mobile-nav" id="mobile-nav">
        <div class="nav-tab" data-tab="assistants" onclick="closeMobileMenu()">
            <i class="fas fa-robot"></i> Assistants
        </div>
        <div class="nav-tab" data-tab="phone-numbers" onclick="closeMobileMenu()">
            <i class="fas fa-phone"></i> Telefonnummern
        </div>
        <div class="nav-tab" data-tab="tools" onclick="closeMobileMenu()">
            <i class="fas fa-tools"></i> Tools
        </div>
        <div class="nav-tab" data-tab="analytics" onclick="closeMobileMenu()">
            <i class="fas fa-chart-bar"></i> Analytics
        </div>
        <div class="nav-tab" data-tab="documentation" onclick="closeMobileMenu()">
            <i class="fas fa-book"></i> Dokumentation
        </div>
    </div>

    <div class="platform-container">
        <!-- ASSISTANTS SECTION -->
        <div class="page-section active" id="assistants-section">
            <div class="page-header">
                <h1 class="page-title">Voice Assistants</h1>
                <p class="page-subtitle">Erstellen und verwalten Sie intelligente Voice AI Assistants für den europäischen Markt</p>
            </div>

            <div class="assistant-builder">
                <!-- TEMPLATE SIDEBAR -->
                <div class="builder-sidebar">
                    <div class="template-section">
                        <h3>Assistant Templates</h3>
                        
                        <div class="template-card selected" data-template="blank">
                            <div class="template-name">Blank Assistant</div>
                            <div class="template-desc">Von Grund auf mit voller Anpassung</div>
                        </div>

                        <div class="template-card" data-template="customer-support">
                            <div class="template-name">Kundensupport</div>
                            <div class="template-desc">Vorkonfiguriert für Kundenservice mit DSGVO-Compliance</div>
                        </div>

                        <div class="template-card" data-template="appointment">
                            <div class="template-name">Terminbuchung</div>
                            <div class="template-desc">Optimiert für Terminplanung mit deutscher Zeitzone</div>
                        </div>

                        <div class="template-card" data-template="sales">
                            <div class="template-name">Verkaufsassistent</div>
                            <div class="template-desc">Lead-Qualifizierung für europäische Märkte</div>
                        </div>

                        <div class="template-card" data-template="medical">
                            <div class="template-name">Medizinischer Assistent</div>
                            <div class="template-desc">DSGVO-konform für Gesundheitswesen</div>
                        </div>

                        <div class="template-card" data-template="ecommerce">
                            <div class="template-name">E-Commerce</div>
                            <div class="template-desc">Online-Shop Support mit EU-Verbraucherschutz</div>
                        </div>
                    </div>
                </div>

                <!-- CONFIGURATION MAIN -->
                <div class="builder-main">
                    <!-- COST/LATENCY TRACKER -->
                    <div class="metrics-bar">
                        <div class="metric-item">
                            <div class="metric-value" id="cost-value">€0.08</div>
                            <div class="metric-label">Kosten/Minute</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value" id="latency-value">350ms</div>
                            <div class="metric-label">Latenz (EU)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value" id="reliability-value">99.9%</div>
                            <div class="metric-label">Verfügbarkeit</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value" id="compliance-value">DSGVO</div>
                            <div class="metric-label">Compliance</div>
                        </div>
                    </div>

                    <!-- CONFIGURATION TABS -->
                    <div class="config-tabs">
                        <div class="config-tab active" data-config="model">
                            <i class="fas fa-brain"></i>
                            <span>Modell</span>
                        </div>
                        <div class="config-tab" data-config="transcriber">
                            <i class="fas fa-microphone"></i>
                            <span>Sprache-zu-Text</span>
                        </div>
                        <div class="config-tab" data-config="voice">
                            <i class="fas fa-volume-up"></i>
                            <span>Stimme</span>
                        </div>
                        <div class="config-tab" data-config="functions">
                            <i class="fas fa-code"></i>
                            <span>Funktionen</span>
                        </div>
                        <div class="config-tab" data-config="advanced">
                            <i class="fas fa-cog"></i>
                            <span>Erweitert</span>
                        </div>
                    </div>

                    <div class="config-content">
                        <!-- MODEL CONFIGURATION -->
                        <div class="tab-panel active" id="model-panel">
                            <div class="form-section">
                                <h4><i class="fas fa-comment-alt"></i> Erste Nachricht</h4>
                                
                                <div class="form-group">
                                    <label for="first-message">Was soll Ihr Assistant zuerst sagen?</label>
                                    <textarea id="first-message" placeholder="Hallo! Wie kann ich Ihnen heute helfen?">Hallo! Wie kann ich Ihnen heute helfen?</textarea>
                                </div>

                                <div class="form-group">
                                    <label for="first-message-mode">Erste Nachricht Modus</label>
                                    <select id="first-message-mode">
                                        <option value="assistant-speaks-first" selected>Assistant spricht zuerst</option>
                                        <option value="assistant-speaks-first-with-model-generated-message">Assistant spricht zuerst (KI generiert)</option>
                                        <option value="assistant-waits-for-user">Assistant wartet auf Benutzer</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4><i class="fas fa-robot"></i> System Prompt</h4>
                                
                                <div class="form-group">
                                    <label for="system-prompt">Definieren Sie das Verhalten und den Kontext Ihres Assistants</label>
                                    <textarea id="system-prompt" style="height: 150px;" placeholder="Sie sind ein hilfreicher Voice Assistant...">Sie sind ein hilfreicher Voice Assistant für den deutschen und europäischen Markt. Seien Sie freundlich, professionell und befolgen Sie DSGVO-Richtlinien. Antworten Sie präzise und hilfsbereit auf Anfragen der Benutzer.</textarea>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4><i class="fas fa-brain"></i> Sprachmodell</h4>
                                
                                <div class="provider-grid">
                                    <div class="provider-card selected" data-provider="openai">
                                        <div class="provider-name">OpenAI</div>
                                        <div class="provider-desc">GPT-5, GPT-4o, GPT-4</div>
                                    </div>
                                    <div class="provider-card" data-provider="anthropic">
                                        <div class="provider-name">Anthropic</div>
                                        <div class="provider-desc">Claude 3.5 Sonnet, Haiku</div>
                                    </div>
                                    <div class="provider-card" data-provider="google">
                                        <div class="provider-name">Google</div>
                                        <div class="provider-desc">Gemini Pro, Ultra</div>
                                    </div>
                                    <div class="provider-card" data-provider="meta">
                                        <div class="provider-name">Meta</div>
                                        <div class="provider-desc">Llama 3.1 405B</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="model-select">Modell</label>
                                    <select id="model-select">
                                        <option value="gpt-5" selected>GPT-5 (Neueste)</option>
                                        <option value="gpt-4o">GPT-4o</option>
                                        <option value="gpt-4o-mini">GPT-4o Mini</option>
                                        <option value="gpt-4">GPT-4</option>
                                        <option value="claude-3-5-sonnet">Claude 3.5 Sonnet</option>
                                        <option value="claude-3-haiku">Claude 3 Haiku</option>
                                        <option value="gemini-pro">Gemini Pro</option>
                                    </select>
                                </div>

                                <div class="form-triple">
                                    <div class="form-group">
                                        <label for="temperature">Temperatur</label>
                                        <input type="range" id="temperature" min="0" max="2" value="0.7" step="0.1">
                                        <span class="range-value">0.7</span>
                                    </div>
                                    <div class="form-group">
                                        <label for="max-tokens">Max Tokens</label>
                                        <input type="number" id="max-tokens" value="1000" min="100" max="4000" step="100">
                                    </div>
                                    <div class="form-group">
                                        <label for="language">Sprache</label>
                                        <select id="language">
                                            <option value="de" selected>Deutsch</option>
                                            <option value="en">Englisch</option>
                                            <option value="fr">Französisch</option>
                                            <option value="es">Spanisch</option>
                                            <option value="it">Italienisch</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- TRANSCRIBER CONFIGURATION -->
                        <div class="tab-panel" id="transcriber-panel">
                            <div class="form-section">
                                <h4><i class="fas fa-microphone"></i> Speech-to-Text Anbieter</h4>
                                
                                <div class="provider-grid">
                                    <div class="provider-card selected" data-provider="deepgram">
                                        <div class="provider-name">Deepgram</div>
                                        <div class="provider-desc">Nova-2 (EU-Server)</div>
                                    </div>
                                    <div class="provider-card" data-provider="assemblyai">
                                        <div class="provider-name">AssemblyAI</div>
                                        <div class="provider-desc">Höchste Genauigkeit</div>
                                    </div>
                                    <div class="provider-card" data-provider="openai">
                                        <div class="provider-name">OpenAI</div>
                                        <div class="provider-desc">Whisper-1</div>
                                    </div>
                                    <div class="provider-card" data-provider="azure">
                                        <div class="provider-name">Azure EU</div>
                                        <div class="provider-desc">Enterprise DSGVO</div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="transcriber-model">Modell</label>
                                        <select id="transcriber-model">
                                            <option value="nova-2-eu" selected>Nova-2 EU</option>
                                            <option value="nova-2-german">Nova-2 Deutsch</option>
                                            <option value="whisper-1">Whisper-1</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="transcriber-language">Sprache</label>
                                        <select id="transcriber-language">
                                            <option value="de" selected>Deutsch</option>
                                            <option value="en">Englisch</option>
                                            <option value="fr">Französisch</option>
                                            <option value="es">Spanisch</option>
                                            <option value="it">Italienisch</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- VOICE CONFIGURATION -->
                        <div class="tab-panel" id="voice-panel">
                            <div class="form-section">
                                <h4><i class="fas fa-volume-up"></i> Text-to-Speech Anbieter</h4>
                                
                                <div class="provider-grid">
                                    <div class="provider-card selected" data-provider="elevenlabs">
                                        <div class="provider-name">ElevenLabs</div>
                                        <div class="provider-desc">Deutsche Stimmen</div>
                                    </div>
                                    <div class="provider-card" data-provider="playht">
                                        <div class="provider-name">PlayHT</div>
                                        <div class="provider-desc">Niedrige Latenz</div>
                                    </div>
                                    <div class="provider-card" data-provider="openai">
                                        <div class="provider-name">OpenAI</div>
                                        <div class="provider-desc">Natürlich, zuverlässig</div>
                                    </div>
                                    <div class="provider-card" data-provider="azure">
                                        <div class="provider-name">Azure EU</div>
                                        <div class="provider-desc">DSGVO-konform</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="voice-select">Stimme</label>
                                    <select id="voice-select">
                                        <option value="german-anna" selected>Anna (Deutsch) - Professionell, warm</option>
                                        <option value="german-michael">Michael (Deutsch) - Autoritär, freundlich</option>
                                        <option value="german-sarah">Sarah (Deutsch) - Jung, energisch</option>
                                        <option value="multilingual-clara">Clara (Mehrsprachig) - EU-Akzente</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- FUNCTIONS CONFIGURATION -->
                        <div class="tab-panel" id="functions-panel">
                            <div class="form-section">
                                <h4><i class="fas fa-code"></i> Funktionen</h4>
                                
                                <div class="provider-grid">
                                    <div class="provider-card">
                                        <div class="provider-name">DSGVO Compliance</div>
                                        <div class="provider-desc">Automatische Datenschutz-Checks</div>
                                    </div>
                                    <div class="provider-card">
                                        <div class="provider-name">EU-Kalender</div>
                                        <div class="provider-desc">Google, Outlook, europäische Zeitzonen</div>
                                    </div>
                                    <div class="provider-card">
                                        <div class="provider-name">CRM Integration</div>
                                        <div class="provider-desc">Salesforce, HubSpot (EU)</div>
                                    </div>
                                    <div class="provider-card">
                                        <div class="provider-name">Zahlungsabwicklung</div>
                                        <div class="provider-desc">SEPA, Stripe EU, PayPal</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ADVANCED CONFIGURATION -->
                        <div class="tab-panel" id="advanced-panel">
                            <div class="form-section">
                                <h4><i class="fas fa-shield-alt"></i> DSGVO & Compliance</h4>
                                
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="gdpr-compliance" checked>
                                        DSGVO-Compliance aktivieren
                                    </label>
                                </div>

                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="data-minimization" checked>
                                        Datenminimierung
                                    </label>
                                </div>

                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="eu-servers" checked>
                                        Nur EU-Server verwenden
                                    </label>
                                </div>
                            </div>

                            <div class="form-section">
                                <h4><i class="fas fa-globe-europe"></i> Lokalisierung</h4>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="timezone">Zeitzone</label>
                                        <select id="timezone">
                                            <option value="Europe/Berlin" selected>Europa/Berlin</option>
                                            <option value="Europe/London">Europa/London</option>
                                            <option value="Europe/Paris">Europa/Paris</option>
                                            <option value="Europe/Rome">Europa/Rom</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="currency">Währung</label>
                                        <select id="currency">
                                            <option value="EUR" selected>Euro (€)</option>
                                            <option value="GBP">Britisches Pfund (£)</option>
                                            <option value="CHF">Schweizer Franken (CHF)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PHONE NUMBERS SECTION -->
        <div class="page-section" id="phone-numbers-section">
            <div class="page-header">
                <h1 class="page-title">Telefonnummern</h1>
                <p class="page-subtitle">Verwalten Sie Ihre europäischen Telefonnummern und Routing</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="font-family: 'Monaco', monospace; font-size: 1.25rem; font-weight: 700; color: var(--primary-color); margin-bottom: 0.5rem;">
                        +49 30 12345678
                    </div>
                    <div style="color: var(--text-500); margin-bottom: 1rem;">Deutschland • Berlin</div>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm btn-secondary">Konfigurieren</button>
                        <button class="btn btn-sm btn-primary" onclick="startTestCall()">Test-Anruf</button>
                    </div>
                </div>

                <div style="border: 2px dashed var(--border); border-radius: 12px; padding: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; color: var(--text-500);">
                    <i class="fas fa-plus" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                    <h4 style="margin-bottom: 0.5rem;">Neue Nummer</h4>
                    <p style="font-size: 0.875rem; margin-bottom: 1rem;">Europäische Nummer hinzufügen</p>
                    <button class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Hinzufügen
                    </button>
                </div>
            </div>
        </div>

        <!-- TOOLS SECTION -->
        <div class="page-section" id="tools-section">
            <div class="page-header">
                <h1 class="page-title">Tools & Integrationen</h1>
                <p class="page-subtitle">Erweitern Sie Ihre Assistants mit DSGVO-konformen Integrationen</p>
            </div>

            <div style="text-align: center; padding: 3rem; color: var(--text-500);">
                <i class="fas fa-tools" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                <h3>Tools & Integrationen</h3>
                <p style="margin-bottom: 2rem;">Verbinden Sie Ihre Assistants mit europäischen APIs und Services</p>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i>
                    Neues Tool erstellen
                </button>
            </div>
        </div>

        <!-- ANALYTICS SECTION -->
        <div class="page-section" id="analytics-section">
            <div class="page-header">
                <h1 class="page-title">Analytics</h1>
                <p class="page-subtitle">DSGVO-konforme Performance-Metriken und Insights</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div style="font-weight: 600; color: var(--text-700); font-size: 0.875rem;">Anrufe heute</div>
                        <div style="width: 32px; height: 32px; border-radius: 6px; background: var(--primary-color); color: white; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-phone"></i>
                        </div>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--text-900); margin-bottom: 0.5rem;">1,234</div>
                    <div style="font-size: 0.75rem; color: var(--success-color);">
                        <i class="fas fa-arrow-up"></i> +12% vs letzte Woche
                    </div>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div style="font-weight: 600; color: var(--text-700); font-size: 0.875rem;">Erfolgsrate</div>
                        <div style="width: 32px; height: 32px; border-radius: 6px; background: var(--success-color); color: white; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--text-900); margin-bottom: 0.5rem;">98.5%</div>
                    <div style="font-size: 0.75rem; color: var(--success-color);">
                        <i class="fas fa-arrow-up"></i> +2.1% vs letzte Woche
                    </div>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div style="font-weight: 600; color: var(--text-700); font-size: 0.875rem;">Durchschn. Dauer</div>
                        <div style="width: 32px; height: 32px; border-radius: 6px; background: var(--purple-color); color: white; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-clock"></i>
                        </div>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--text-900); margin-bottom: 0.5rem;">3m 42s</div>
                    <div style="font-size: 0.75rem; color: var(--danger-color);">
                        <i class="fas fa-arrow-down"></i> -8% vs letzte Woche
                    </div>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div style="font-weight: 600; color: var(--text-700); font-size: 0.875rem;">Kosten</div>
                        <div style="width: 32px; height: 32px; border-radius: 6px; background: var(--warning-color); color: white; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-euro-sign"></i>
                        </div>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--text-900); margin-bottom: 0.5rem;">€247.82</div>
                    <div style="font-size: 0.75rem; color: var(--success-color);">
                        <i class="fas fa-arrow-up"></i> +5% vs letzte Woche
                    </div>
                </div>
            </div>
        </div>

        <!-- DOCUMENTATION SECTION -->
        <div class="page-section" id="documentation-section">
            <div class="page-header">
                <h1 class="page-title">Dokumentation</h1>
                <p class="page-subtitle">Umfassende Anleitung für VoicePartnerAI Platform</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--primary-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div>
                            <h3>Quickstart</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Erste Schritte mit VoicePartnerAI</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Lernen Sie die Grundlagen und erstellen Sie Ihren ersten Voice Assistant in wenigen Minuten.</p>
                    <button class="btn btn-secondary">Jetzt starten</button>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--success-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-code"></i>
                        </div>
                        <div>
                            <h3>API Referenz</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Vollständige API Dokumentation</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Detaillierte Referenz für Assistants, Calls, Tools und alle verfügbaren Endpunkte.</p>
                    <button class="btn btn-secondary">API entdecken</button>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--warning-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-book"></i>
                        </div>
                        <div>
                            <h3>Guides</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Praxisnahe Tutorials</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Schritt-für-Schritt Anleitungen für typische Anwendungsfälle wie Terminbuchung und Kundensupport.</p>
                    <button class="btn btn-secondary">Guides ansehen</button>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--purple-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <h3>DSGVO Compliance</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Datenschutz & Sicherheit</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Umfassende Anleitung zur DSGVO-konformen Nutzung und Datenschutz-Best-Practices.</p>
                    <button class="btn btn-secondary">Compliance Guide</button>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--danger-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div>
                            <h3>Workflows</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Visual Flow Builder</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Erstellen Sie komplexe Gesprächsabläufe mit unserem visuellen Workflow-Builder.</p>
                    <button class="btn btn-secondary">Workflows erstellen</button>
                </div>

                <div style="background: var(--bg-white); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: var(--secondary-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-database"></i>
                        </div>
                        <div>
                            <h3>Knowledge Bases</h3>
                            <p style="color: var(--text-500); font-size: 0.875rem;">Wissensdatenbanken</p>
                        </div>
                    </div>
                    <p style="color: var(--text-500); margin-bottom: 1rem;">Integration und Verwaltung von Wissensdatenbanken für intelligentere Antworten.</p>
                    <button class="btn btn-secondary">Knowledge Base Setup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- PHONE INTERFACE -->
    <div class="phone-interface" id="phone-interface">
        <div class="phone-header">
            <div>Test-Anruf</div>
        </div>
        <div class="phone-body">
            <div class="call-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="call-status" id="call-status">Verbinde...</div>
            <div class="call-duration" id="call-duration">00:00</div>
            <div style="margin-top: 2rem; padding: 1rem; background: var(--bg-50); border-radius: 8px; text-align: left; font-size: 0.875rem;">
                <div style="color: var(--text-700); font-weight: 600; margin-bottom: 0.5rem;">Assistant:</div>
                <div style="color: var(--text-500)" id="assistant-response">Hallo! Wie kann ich Ihnen heute helfen?</div>
            </div>
        </div>
        <div class="call-controls">
            <button class="call-btn mute" id="mute-btn" title="Stumm schalten">
                <i class="fas fa-microphone"></i>
            </button>
            <button class="call-btn end" onclick="endTestCall()" title="Anruf beenden">
                <i class="fas fa-phone"></i>
            </button>
        </div>
    </div>

    <!-- ACTION BAR -->
    <div class="action-bar">
        <div class="action-bar-left">
            <div class="status-indicator">
                <div class="status-dot"></div>
                Assistant: Bereit für Deployment
            </div>
        </div>
        
        <div class="action-bar-right">
            <button class="btn btn-secondary" onclick="startTestCall()">
                <i class="fas fa-phone"></i>
                Test-Anruf
            </button>
            <button class="btn btn-success" onclick="deployAssistant()">
                <i class="fas fa-rocket"></i>
                Assistant deployen
            </button>
        </div>
    </div>

    <script>
        // Global state
        const state = {
            currentConfig: {
                template: 'blank',
                model: {},
                transcriber: {},
                voice: {},
                functions: [],
                advanced: {}
            },
            metrics: {
                cost: 0.08,
                latency: 350,
                reliability: 99.9
            },
            callActive: false,
            callDuration: 0,
            callInterval: null
        };

        // Navigation system
        function initNavigation() {
            // Main navigation tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;
                    
                    // Update nav tabs
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update sections
                    document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
                    document.getElementById(targetTab + '-section').classList.add('active');
                    
                    // Close mobile menu
                    closeMobileMenu();
                });
            });

            // Configuration tabs
            document.querySelectorAll('.config-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetConfig = this.dataset.config;
                    
                    // Update config tabs
                    document.querySelectorAll('.config-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update panels
                    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
                    document.getElementById(targetConfig + '-panel').classList.add('active');
                });
            });

            // Template selection
            document.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    const template = this.dataset.template;
                    loadTemplate(template);
                    updateMetrics();
                });
            });

            // Provider selection
            document.querySelectorAll('.provider-card').forEach(card => {
                card.addEventListener('click', function() {
                    const section = this.closest('.form-section');
                    if (section) {
                        section.querySelectorAll('.provider-card').forEach(c => c.classList.remove('selected'));
                        this.classList.add('selected');
                        updateMetrics();
                    }
                });
            });

            // Form inputs
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.addEventListener('change', updateMetrics);
            });
        }

        // Mobile menu functions
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobile-nav');
            const overlay = document.getElementById('overlay');
            
            mobileNav.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function closeMobileMenu() {
            const mobileNav = document.getElementById('mobile-nav');
            const overlay = document.getElementById('overlay');
            
            mobileNav.classList.remove('active');
            overlay.classList.remove('active');
        }

        // Template loading
        function loadTemplate(templateType) {
            const templates = {
                'blank': {
                    systemPrompt: 'Sie sind ein hilfreicher Voice Assistant für den deutschen und europäischen Markt. Seien Sie freundlich, professionell und befolgen Sie DSGVO-Richtlinien.',
                    firstMessage: 'Hallo! Wie kann ich Ihnen heute helfen?'
                },
                'customer-support': {
                    systemPrompt: 'Sie sind ein professioneller Kundensupport-Agent für den europäischen Markt. Befolgen Sie DSGVO-Richtlinien und seien Sie geduldig und lösungsorientiert.',
                    firstMessage: 'Hallo! Vielen Dank für Ihren Anruf beim Kundensupport. Wie kann ich Ihnen helfen?'
                },
                'appointment': {
                    systemPrompt: 'Sie sind ein Terminbuchungs-Assistant für den deutschen Markt. Berücksichtigen Sie deutsche Arbeitszeiten und Feiertage.',
                    firstMessage: 'Hallo! Gerne helfe ich Ihnen bei der Terminbuchung. Für welchen Service möchten Sie einen Termin vereinbaren?'
                },
                'sales': {
                    systemPrompt: 'Sie sind ein professioneller Verkaufsassistent für den europäischen Markt. Seien Sie beratend, nicht aufdringlich, und respektieren Sie europäische Verkaufspraktiken.',
                    firstMessage: 'Hallo! Vielen Dank für Ihr Interesse an unseren Services. Gerne erfahre ich mehr über Ihre Anforderungen.'
                },
                'medical': {
                    systemPrompt: 'Sie sind ein medizinischer Assistant. Befolgen Sie strikt DSGVO und medizinische Datenschutzbestimmungen. Geben Sie keine medizinischen Ratschläge.',
                    firstMessage: 'Hallo, vielen Dank für Ihren Anruf in unserer Praxis. Wie kann ich Ihnen behilflich sein?'
                },
                'ecommerce': {
                    systemPrompt: 'Sie sind ein E-Commerce Support Assistant für den europäischen Markt. Beachten Sie EU-Verbraucherschutzgesetze und Widerrufsrechte.',
                    firstMessage: 'Hallo! Willkommen in unserem Online-Shop. Wie kann ich Ihnen beim Einkauf helfen?'
                }
            };

            if (templates[templateType]) {
                const template = templates[templateType];
                document.getElementById('system-prompt').value = template.systemPrompt;
                document.getElementById('first-message').value = template.firstMessage;
            }

            state.currentConfig.template = templateType;
        }

        // Metrics calculation
        function updateMetrics() {
            // Simulate EU-optimized metrics
            let cost = 0.05; // Base cost in EUR
            let latency = 200; // Base latency for EU servers
            let reliability = 99.0;

            // Model provider costs (optimized for EU)
            const modelProvider = document.querySelector('#model-panel .provider-card.selected')?.dataset.provider || 'openai';
            const modelCosts = { 
                openai: 0.04,    // GPT-5 premium pricing
                anthropic: 0.06, // Claude premium
                google: 0.03,    // Gemini competitive
                meta: 0.02       // Llama open source advantage
            };
            cost += modelCosts[modelProvider] || 0.04;

            // EU server latencies (lower due to proximity)
            const providerLatencies = {
                model: { openai: 250, anthropic: 200, google: 300, meta: 180 },
                voice: { elevenlabs: 120, playht: 80, openai: 150, azure: 100 },
                transcriber: { deepgram: 40, assemblyai: 60, openai: 50, azure: 45 }
            };

            const voiceProvider = document.querySelector('#voice-panel .provider-card.selected')?.dataset.provider || 'elevenlabs';
            const transcriberProvider = document.querySelector('#transcriber-panel .provider-card.selected')?.dataset.provider || 'deepgram';

            latency += providerLatencies.model[modelProvider] || 250;
            latency += providerLatencies.voice[voiceProvider] || 120;
            latency += providerLatencies.transcriber[transcriberProvider] || 40;

            // EU reliability bonuses
            reliability += 0.7; // Base EU infrastructure bonus

            // Update display
            document.getElementById('cost-value').textContent = '€' + cost.toFixed(3);
            document.getElementById('latency-value').textContent = Math.round(latency) + 'ms';
            document.getElementById('reliability-value').textContent = Math.min(reliability, 99.9).toFixed(1) + '%';

            // Update state
            state.metrics = { cost, latency, reliability };
        }

        // Test call functionality
        function startTestCall() {
            if (state.callActive) return;

            const phoneInterface = document.getElementById('phone-interface');
            const overlay = document.getElementById('overlay');
            const statusElement = document.getElementById('call-status');
            const durationElement = document.getElementById('call-duration');
            const responseElement = document.getElementById('assistant-response');

            // Show phone interface
            phoneInterface.classList.add('active');
            overlay.classList.add('active');
            
            // Reset state
            state.callActive = true;
            state.callDuration = 0;
            statusElement.textContent = 'Verbinde...';
            durationElement.textContent = '00:00';

            // Simulate connection process
            setTimeout(() => {
                statusElement.textContent = 'Verbunden';
                
                // Start call duration timer
                state.callInterval = setInterval(() => {
                    state.callDuration++;
                    const minutes = Math.floor(state.callDuration / 60);
                    const seconds = state.callDuration % 60;
                    durationElement.textContent = 
                        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);

                // Simulate assistant responses
                const responses = [
                    'Hallo! Wie kann ich Ihnen heute helfen?',
                    'Das ist eine interessante Frage. Lassen Sie mich das für Sie klären.',
                    'Basierend auf unseren DSGVO-konformen Daten kann ich Ihnen folgende Informationen geben...',
                    'Gibt es noch etwas anderes, womit ich Ihnen behilflich sein kann?'
                ];

                let responseIndex = 0;
                const responseInterval = setInterval(() => {
                    if (!state.callActive) {
                        clearInterval(responseInterval);
                        return;
                    }
                    
                    responseElement.textContent = responses[responseIndex % responses.length];
                    responseIndex++;
                }, 3000);

            }, 1500);

            // Update action bar status
            updateActionBarStatus('Test-Anruf aktiv', 'orange');
        }

        function endTestCall() {
            if (!state.callActive) return;

            state.callActive = false;
            
            // Clear timers
            if (state.callInterval) {
                clearInterval(state.callInterval);
                state.callInterval = null;
            }

            // Hide phone interface
            const phoneInterface = document.getElementById('phone-interface');
            const overlay = document.getElementById('overlay');
            
            phoneInterface.classList.remove('active');
            overlay.classList.remove('active');

            // Reset action bar status
            updateActionBarStatus('Bereit für Deployment', 'green');
        }

        function updateActionBarStatus(text, color) {
            const statusIndicator = document.querySelector('.status-indicator');
            const statusDot = statusIndicator.querySelector('.status-dot');
            
            statusIndicator.innerHTML = `
                <div class="status-dot" style="background: var(--${color === 'green' ? 'success' : color === 'orange' ? 'warning' : 'primary'}-color);"></div>
                Assistant: ${text}
            `;
        }

        // Deploy assistant
        function deployAssistant() {
            const deployBtn = document.querySelector('.btn-success');
            const originalText = deployBtn.innerHTML;
            
            deployBtn.innerHTML = '<div class="loading"><div class="spinner"></div> Deploying...</div>';
            deployBtn.disabled = true;

            // Collect configuration
            const config = {
                template: state.currentConfig.template,
                model: {
                    provider: document.querySelector('#model-panel .provider-card.selected')?.dataset.provider || 'openai',
                    name: document.getElementById('model-select').value,
                    systemPrompt: document.getElementById('system-prompt').value,
                    firstMessage: document.getElementById('first-message').value,
                    language: document.getElementById('language').value
                },
                voice: {
                    provider: document.querySelector('#voice-panel .provider-card.selected')?.dataset.provider || 'elevenlabs',
                    voice: document.getElementById('voice-select').value
                },
                advanced: {
                    gdprCompliance: document.getElementById('gdpr-compliance').checked,
                    dataMinimization: document.getElementById('data-minimization').checked,
                    euServers: document.getElementById('eu-servers').checked,
                    timezone: document.getElementById('timezone').value,
                    currency: document.getElementById('currency').value
                },
                metrics: state.metrics
            };

            // Simulate deployment
            setTimeout(() => {
                deployBtn.innerHTML = '<i class="fas fa-check"></i> Deployed!';
                deployBtn.style.background = 'var(--success-color)';
                
                updateActionBarStatus(`${config.template.charAt(0).toUpperCase() + config.template.slice(1)} Assistant (Live)`, 'green');

                // Show success message
                alert(`🎉 Assistant erfolgreich deployed!\n\n` +
                      `Template: ${config.template}\n` +
                      `Kosten: €${config.metrics.cost.toFixed(3)}/min\n` +
                      `Latenz: ${Math.round(config.metrics.latency)}ms\n` +
                      `Verfügbarkeit: ${config.metrics.reliability.toFixed(1)}%\n` +
                      `DSGVO: ${config.advanced.gdprCompliance ? 'Aktiv' : 'Inaktiv'}\n\n` +
                      `Ihr Voice Assistant ist jetzt live und bereit für Anrufe!`);

                // Reset button after 3 seconds
                setTimeout(() => {
                    deployBtn.innerHTML = originalText;
                    deployBtn.disabled = false;
                    deployBtn.style.background = 'var(--success-color)';
                }, 3000);
            }, 2000);
        }

        // Initialize platform
        function initPlatform() {
            console.log('🚀 VoicePartnerAI Platform initialized');
            console.log('🇪🇺 European Voice AI Platform for GDPR-compliant deployments');
            
            // Initialize navigation
            initNavigation();
            
            // Load default template
            loadTemplate('blank');
            updateMetrics();
            
            // Close overlay on click
            document.getElementById('overlay').addEventListener('click', () => {
                closeMobileMenu();
                endTestCall();
            });

            // Mute button functionality
            document.getElementById('mute-btn').addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-microphone')) {
                    icon.classList.remove('fa-microphone');
                    icon.classList.add('fa-microphone-slash');
                    this.style.background = 'var(--danger-color)';
                    this.style.color = 'white';
                } else {
                    icon.classList.remove('fa-microphone-slash');
                    icon.classList.add('fa-microphone');
                    this.style.background = 'var(--bg-100)';
                    this.style.color = 'var(--text-500)';
                }
            });

            console.log('✅ Platform ready for European Voice AI development');
        }

        // Start the platform
        document.addEventListener('DOMContentLoaded', initPlatform);
    </script>
</body>
</html>