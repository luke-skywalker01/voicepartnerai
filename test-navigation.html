<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .nav-item { 
            display: inline-block; 
            margin-right: 20px; 
            padding: 10px 20px; 
            background: #3b82f6; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px;
            cursor: pointer;
        }
        .nav-item.active { background: #1d4ed8; }
        .page { 
            margin-top: 30px; 
            padding: 20px; 
            border: 2px solid #ccc; 
            min-height: 200px;
        }
        .hidden { display: none; }
        .btn-create {
            background: #10b981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
        }
        .close {
            background: #ef4444;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Navigation Test für VoicePartnerAI</h1>
    
    <nav>
        <a href="#" class="nav-item active" onclick="showPage('dashboard')">Dashboard</a>
        <a href="#" class="nav-item" onclick="showPage('assistants')">Assistants</a>
        <a href="#" class="nav-item" onclick="showPage('workflows')">Workflows</a>
    </nav>

    <div id="dashboard" class="page">
        <h2>Dashboard Page</h2>
        <p>Dies ist die Dashboard-Seite. Navigation funktioniert!</p>
    </div>

    <div id="assistants" class="page hidden">
        <h2>Assistants Page</h2>
        <p>Dies ist die Assistants-Seite. Du solltest hier einen Button zum Erstellen sehen:</p>
        <button class="btn-create" onclick="showCreateAssistant()">
            <i class="fas fa-plus"></i> Neuen Assistant erstellen
        </button>
    </div>

    <div id="workflows" class="page hidden">
        <h2>Workflows Page</h2>
        <p>Dies ist die Workflows-Seite. Du solltest hier einen Button zum Erstellen sehen:</p>
        <button class="btn-create" onclick="showCreateWorkflow()">
            <i class="fas fa-plus"></i> Neuen Workflow erstellen
        </button>
    </div>

    <!-- Modal for Assistant Creation -->
    <div id="assistantModal" class="modal">
        <div class="modal-content">
            <h3>Assistant Erstellen</h3>
            <p>Das Modal für die Assistant-Erstellung wurde erfolgreich geöffnet!</p>
            <button class="close" onclick="hideCreateAssistant()">Schließen</button>
        </div>
    </div>

    <!-- Modal for Workflow Creation -->
    <div id="workflowModal" class="modal">
        <div class="modal-content">
            <h3>Workflow Erstellen</h3>
            <p>Das Modal für die Workflow-Erstellung wurde erfolgreich geöffnet!</p>
            <button class="close" onclick="hideCreateWorkflow()">Schließen</button>
        </div>
    </div>

    <script>
        function showPage(pageId) {
            console.log('showPage called with:', pageId);
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
                console.log('Hiding page:', page.id);
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                console.log('Removing active from nav item');
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.remove('hidden');
                console.log('Showing page:', pageId);
            } else {
                console.error('Page not found:', pageId);
            }
            
            // Add active class to clicked nav item
            if (event && event.target) {
                event.target.classList.add('active');
                console.log('Adding active to nav item');
            }
        }

        function showCreateAssistant() {
            console.log('showCreateAssistant called');
            const modal = document.getElementById('assistantModal');
            if (modal) {
                modal.classList.add('show');
                console.log('Assistant modal shown');
            } else {
                console.error('Assistant modal not found');
            }
        }

        function hideCreateAssistant() {
            console.log('hideCreateAssistant called');
            document.getElementById('assistantModal').classList.remove('show');
        }

        function showCreateWorkflow() {
            console.log('showCreateWorkflow called');
            const modal = document.getElementById('workflowModal');
            if (modal) {
                modal.classList.add('show');
                console.log('Workflow modal shown');
            } else {
                console.error('Workflow modal not found');
            }
        }

        function hideCreateWorkflow() {
            console.log('hideCreateWorkflow called');
            document.getElementById('workflowModal').classList.remove('show');
        }

        // Test logging when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded successfully');
            console.log('Found pages:', document.querySelectorAll('.page').length);
            console.log('Found nav items:', document.querySelectorAll('.nav-item').length);
        });
    </script>
</body>
</html>